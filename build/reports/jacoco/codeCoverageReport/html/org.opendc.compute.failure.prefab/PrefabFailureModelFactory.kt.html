<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>PrefabFailureModelFactory.kt</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">opendc</a> &gt; <a href="index.source.html" class="el_package">org.opendc.compute.failure.prefab</a> &gt; <span class="el_source">PrefabFailureModelFactory.kt</span></div><h1>PrefabFailureModelFactory.kt</h1><pre class="source lang-java linenums">/*
 * Copyright (c) 2021 AtLarge Research
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the &quot;Software&quot;), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED &quot;AS IS&quot;, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 */

@file:JvmName(&quot;FailureModels&quot;)

package org.opendc.compute.failure.prefab

import org.opendc.compute.failure.models.SampleBasedFailureModel
import org.opendc.compute.simulator.service.ComputeService
import java.time.InstantSource
import java.util.random.RandomGenerator
import kotlin.coroutines.CoroutineContext

public enum class FailurePrefab {
<span class="nc" id="L34">    G5k06Exp,</span>
<span class="nc" id="L35">    G5k06Wbl,</span>
<span class="nc" id="L36">    G5k06LogN,</span>
<span class="nc" id="L37">    G5k06Gam,</span>
<span class="nc" id="L38">    Lanl05Exp,</span>
<span class="nc" id="L39">    Lanl05Wbl,</span>
<span class="nc" id="L40">    Lanl05LogN,</span>
<span class="nc" id="L41">    Lanl05Gam,</span>
<span class="nc" id="L42">    Ldns04Exp,</span>
<span class="nc" id="L43">    Ldns04Wbl,</span>
<span class="nc" id="L44">    Ldns04LogN,</span>
<span class="nc" id="L45">    Ldns04Gam,</span>
<span class="nc" id="L46">    Microsoft99Exp,</span>
<span class="nc" id="L47">    Microsoft99Wbl,</span>
<span class="nc" id="L48">    Microsoft99LogN,</span>
<span class="nc" id="L49">    Microsoft99Gam,</span>
<span class="nc" id="L50">    Nd07cpuExp,</span>
<span class="nc" id="L51">    Nd07cpuWbl,</span>
<span class="nc" id="L52">    Nd07cpuLogN,</span>
<span class="nc" id="L53">    Nd07cpuGam,</span>
<span class="nc" id="L54">    Overnet03Exp,</span>
<span class="nc" id="L55">    Overnet03Wbl,</span>
<span class="nc" id="L56">    Overnet03LogN,</span>
<span class="nc" id="L57">    Overnet03Gam,</span>
<span class="nc" id="L58">    Pl05Exp,</span>
<span class="nc" id="L59">    Pl05Wbl,</span>
<span class="nc" id="L60">    Pl05LogN,</span>
<span class="nc" id="L61">    Pl05Gam,</span>
<span class="nc" id="L62">    Skype06Exp,</span>
<span class="nc" id="L63">    Skype06Wbl,</span>
<span class="nc" id="L64">    Skype06LogN,</span>
<span class="nc" id="L65">    Skype06Gam,</span>
<span class="nc" id="L66">    Websites02Exp,</span>
<span class="nc" id="L67">    Websites02Wbl,</span>
<span class="nc" id="L68">    Websites02LogN,</span>
<span class="nc" id="L69">    Websites02Gam,</span>
}

/**
 * Get a [SampleBasedFailureModel] based on the provided prefab.
 * All Failure models are based on values taken from &quot;The Failure Trace Archive: Enabling the comparison of failure measurements and models of distributed systems&quot;
 * Which can be found at https://www-sciencedirect-com.vu-nl.idm.oclc.org/science/article/pii/S0743731513000634
 *
 *
 * @param context
 * @param clock
 * @param service
 * @param random
 * @param prefab The name of the failure model prefab
 * @return
 */
public fun createFailureModelPrefab(
    context: CoroutineContext,
    clock: InstantSource,
    service: ComputeService,
    random: RandomGenerator,
    prefab: FailurePrefab,
): SampleBasedFailureModel {
<span class="nc bnc" id="L92" title="All 37 branches missed.">    when (prefab) {</span>
<span class="nc" id="L93">        FailurePrefab.G5k06Exp -&gt; return createG5k06Exp(context, clock, service, random)</span>
<span class="nc" id="L94">        FailurePrefab.G5k06Wbl -&gt; return createG5k06Wbl(context, clock, service, random)</span>
<span class="nc" id="L95">        FailurePrefab.G5k06LogN -&gt; return createG5k06LogN(context, clock, service, random)</span>
<span class="nc" id="L96">        FailurePrefab.G5k06Gam -&gt; return createG5k06Gam(context, clock, service, random)</span>

<span class="nc" id="L98">        FailurePrefab.Lanl05Exp -&gt; return createLanl05Exp(context, clock, service, random)</span>
<span class="nc" id="L99">        FailurePrefab.Lanl05Wbl -&gt; return createLanl05Wbl(context, clock, service, random)</span>
<span class="nc" id="L100">        FailurePrefab.Lanl05LogN -&gt; return createLanl05LogN(context, clock, service, random)</span>
<span class="nc" id="L101">        FailurePrefab.Lanl05Gam -&gt; return createLanl05Gam(context, clock, service, random)</span>

<span class="nc" id="L103">        FailurePrefab.Ldns04Exp -&gt; return createLdns04Exp(context, clock, service, random)</span>
<span class="nc" id="L104">        FailurePrefab.Ldns04Wbl -&gt; return createLdns04Wbl(context, clock, service, random)</span>
<span class="nc" id="L105">        FailurePrefab.Ldns04LogN -&gt; return createLdns04LogN(context, clock, service, random)</span>
<span class="nc" id="L106">        FailurePrefab.Ldns04Gam -&gt; return createLdns04Gam(context, clock, service, random)</span>

<span class="nc" id="L108">        FailurePrefab.Microsoft99Exp -&gt; return createMicrosoft99Exp(context, clock, service, random)</span>
<span class="nc" id="L109">        FailurePrefab.Microsoft99Wbl -&gt; return createMicrosoft99Wbl(context, clock, service, random)</span>
<span class="nc" id="L110">        FailurePrefab.Microsoft99LogN -&gt; return createMicrosoft99LogN(context, clock, service, random)</span>
<span class="nc" id="L111">        FailurePrefab.Microsoft99Gam -&gt; return createMicrosoft99Gam(context, clock, service, random)</span>

<span class="nc" id="L113">        FailurePrefab.Nd07cpuExp -&gt; return createNd07cpuExp(context, clock, service, random)</span>
<span class="nc" id="L114">        FailurePrefab.Nd07cpuWbl -&gt; return createNd07cpuWbl(context, clock, service, random)</span>
<span class="nc" id="L115">        FailurePrefab.Nd07cpuLogN -&gt; return createNd07cpuLogN(context, clock, service, random)</span>
<span class="nc" id="L116">        FailurePrefab.Nd07cpuGam -&gt; return createNd07cpuGam(context, clock, service, random)</span>

<span class="nc" id="L118">        FailurePrefab.Overnet03Exp -&gt; return createOvernet03Exp(context, clock, service, random)</span>
<span class="nc" id="L119">        FailurePrefab.Overnet03Wbl -&gt; return createOvernet03Wbl(context, clock, service, random)</span>
<span class="nc" id="L120">        FailurePrefab.Overnet03LogN -&gt; return createOvernet03LogN(context, clock, service, random)</span>
<span class="nc" id="L121">        FailurePrefab.Overnet03Gam -&gt; return createOvernet03Gam(context, clock, service, random)</span>

<span class="nc" id="L123">        FailurePrefab.Pl05Exp -&gt; return createPl05Exp(context, clock, service, random)</span>
<span class="nc" id="L124">        FailurePrefab.Pl05Wbl -&gt; return createPl05Wbl(context, clock, service, random)</span>
<span class="nc" id="L125">        FailurePrefab.Pl05LogN -&gt; return createPl05LogN(context, clock, service, random)</span>
<span class="nc" id="L126">        FailurePrefab.Pl05Gam -&gt; return createPl05Gam(context, clock, service, random)</span>

<span class="nc" id="L128">        FailurePrefab.Skype06Exp -&gt; return createSkype06Exp(context, clock, service, random)</span>
<span class="nc" id="L129">        FailurePrefab.Skype06Wbl -&gt; return createSkype06Wbl(context, clock, service, random)</span>
<span class="nc" id="L130">        FailurePrefab.Skype06LogN -&gt; return createSkype06LogN(context, clock, service, random)</span>
<span class="nc" id="L131">        FailurePrefab.Skype06Gam -&gt; return createSkype06Gam(context, clock, service, random)</span>

<span class="nc" id="L133">        FailurePrefab.Websites02Exp -&gt; return createWebsites02Exp(context, clock, service, random)</span>
<span class="nc" id="L134">        FailurePrefab.Websites02Wbl -&gt; return createWebsites02Wbl(context, clock, service, random)</span>
<span class="nc" id="L135">        FailurePrefab.Websites02LogN -&gt; return createWebsites02LogN(context, clock, service, random)</span>
<span class="nc" id="L136">        FailurePrefab.Websites02Gam -&gt; return createWebsites02Gam(context, clock, service, random)</span>

<span class="nc" id="L138">        else -&gt; error(&quot;Unknown failure prefab: $prefab&quot;)</span>
    }
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.12.202403310830</span></div></body></html>